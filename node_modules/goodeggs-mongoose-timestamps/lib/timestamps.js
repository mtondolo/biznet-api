// Generated by CoffeeScript 1.8.0
var clock;

clock = require('node-clock');

module.exports = function(schema, options) {
  schema.add({
    updatedAt: {
      type: Date
    },
    createdAt: {
      type: Date
    }
  });
  return schema.pre('save', function(next) {
    var now;
    now = clock.now();
    if (this.isNew) {
      this.createdAt = now;
    }
    if (this.isNew || this.isModified()) {
      this.updatedAt = now;
    }
    return next();
  });
};
